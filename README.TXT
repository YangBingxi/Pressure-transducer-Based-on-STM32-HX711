
一、 硬件连接：
 HX711              STM32      压力传感器（A B两个传感器）
 VCC                3.3V
 GND                GND
 DT                 PC1
 SCK                PC0
 
 E+（AVDD端）                  A白（B黑）      （单传感器时，白色接电源，黑色接地）                       
 E-（AGND端）                  B白（A黑）

 A+                           B红
 A-                           A红

二、本次实验不再使用LCD液晶显示，改用USART1（printf语句）向电脑发送数据，电脑上打开串口调试助手观察数据。注意串口调试助手的波特率改为115200

三、实际操作
   1、在程序中设计：称重前首先清0，即HX711的前后两次采样值相同，保证加载前质量为0。在实际操作中加载前必须保证这一点满足条件。如果在实际加载中有时无法回0，可按复位键重新开始
   2、标定砝码逐步增重，可直接分别放在两个称重传感器上，或在传感器上加薄片，砝码再加在薄片上.读取AD转换数据，并分析，对照获得的重量进行调整，使误差尽可能小
   3、测量过程中如果发现某个重量区间误差偏大，可自行设置重量区间分别进行标定调整。例：10g以内，10g-50g等等，区间可以任意设定，可大可小，看各自的测量情况定 
   4、在测量中记录数据：（以下为举例说明 每个传感器的测量数据都可能有不同）
   
       标定重量     AD采样值      测量值         线性回归后测得的调整测量值
	   10g            5000        9.091                   ...
	   20g            11000       20.000                  ... 
	   30g            17000       30.909                  ...
	   ....................................               ...
	   100g           55000       100.000                 ...
   
 
     
四、获得调整测量值的方法
	1、根据标定重量的AD采样值，调整GapValue的值，以获得相对比较正确的测量值 ，还可以加减小数再次调整。 Weight=(float)ADCon_CurrentVal/ GapValue;
	2、使用EXCEL的数据分析中的线性回归方法获得线性函数，再使用该函数对测量值进行调整
	3、还可以先根据标定重量和AD采样值先进行线性回归获得回归函数后，对AD采样值进行调整，再代入（1）中进行计算测量值
	



 































